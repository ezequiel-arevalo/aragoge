import{d as Ct,e as Rt,r as ie,g as Lt,f as H,j as E,h as ct,i as Me,o as we,c as ce,a as te,I as Tt,u as Ot,k as Mt,R as q}from"./index-lEbmf-oQ.js";import{a as Ie,b as Pt,u as jt,F as Ut}from"./chunk-56K2BSAJ-C1F0EJp_.js";import{c as Bt}from"./chunk-PULVB27S-nomYcOrH.js";import{B as qt}from"./chunk-UVUR7MCU-CxvTbftA.js";function Ar(e){const{theme:s}=Ct(),t=Rt();return ie.useMemo(()=>Lt(s.direction,{...t,...e}),[e,s.direction,t])}function zt(e){return ie.Children.toArray(e).filter(s=>ie.isValidElement(s))}var dt=H((e,s)=>{const{icon:t,children:i,isRound:u,"aria-label":a,...f}=e,h=t||i,m=ie.isValidElement(h)?ie.cloneElement(h,{"aria-hidden":!0,focusable:!1}):null;return E.jsx(qt,{padding:"0",borderRadius:u?"full":void 0,ref:s,"aria-label":a,...f,children:m})});dt.displayName="IconButton";var[Gt,Wt]=ct({name:"FormErrorStylesContext",errorMessage:`useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormError />" `}),ft=H((e,s)=>{const t=Me("FormError",e),i=we(e),u=Ie();return u!=null&&u.isInvalid?E.jsx(Gt,{value:t,children:E.jsx(ce.div,{...u==null?void 0:u.getErrorMessageProps(i,s),className:te("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});ft.displayName="FormErrorMessage";var $t=H((e,s)=>{const t=Wt(),i=Ie();if(!(i!=null&&i.isInvalid))return null;const u=te("chakra-form__error-icon",e.className);return E.jsx(Tt,{ref:s,"aria-hidden":!0,...e,__css:t.icon,className:u,children:E.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});$t.displayName="FormErrorIcon";var yt=H(function(s,t){var i;const u=Ot("FormLabel",s),a=we(s),{className:f,children:h,requiredIndicator:m=E.jsx(ht,{}),optionalIndicator:L=null,...b}=a,v=Ie(),N=(i=v==null?void 0:v.getLabelProps(b,t))!=null?i:{ref:t,...b};return E.jsxs(ce.label,{...N,className:te("chakra-form__label",a.className),__css:{display:"block",textAlign:"start",...u},children:[h,v!=null&&v.isRequired?m:L]})});yt.displayName="FormLabel";var ht=H(function(s,t){const i=Ie(),u=Pt();if(!(i!=null&&i.isRequired))return null;const a=te("chakra-form__required-indicator",s.className);return E.jsx(ce.span,{...i==null?void 0:i.getRequiredIndicatorProps(s,t),__css:u.requiredIndicator,className:a})});ht.displayName="RequiredIndicator";var[Ht,Zt]=ct({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),gt=H(function(s,t){const i=Me("Input",s),{children:u,className:a,...f}=we(s),h=te("chakra-input__group",a),m={},L=zt(u),b=i.field;L.forEach(N=>{var M,I;i&&(b&&N.type.id==="InputLeftElement"&&(m.paddingStart=(M=b.height)!=null?M:b.h),b&&N.type.id==="InputRightElement"&&(m.paddingEnd=(I=b.height)!=null?I:b.h),N.type.id==="InputRightAddon"&&(m.borderEndRadius=0),N.type.id==="InputLeftAddon"&&(m.borderStartRadius=0))});const v=L.map(N=>{var M,I;const ne=Bt({size:((M=N.props)==null?void 0:M.size)||s.size,variant:((I=N.props)==null?void 0:I.variant)||s.variant});return N.type.id!=="Input"?ie.cloneElement(N,ne):ie.cloneElement(N,Object.assign(ne,m,N.props))});return E.jsx(ce.div,{className:h,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...i.group},"data-group":!0,...f,children:E.jsx(Ht,{value:i,children:v})})});gt.displayName="InputGroup";var Kt=ce("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Se=H(function(s,t){var i,u;const{placement:a="left",...f}=s,h=Zt(),m=h.field,b={[a==="left"?"insetStart":"insetEnd"]:"0",width:(i=m==null?void 0:m.height)!=null?i:m==null?void 0:m.h,height:(u=m==null?void 0:m.height)!=null?u:m==null?void 0:m.h,fontSize:m==null?void 0:m.fontSize,...h.element};return E.jsx(Kt,{ref:t,__css:b,...f})});Se.id="InputElement";Se.displayName="InputElement";var vt=H(function(s,t){const{className:i,...u}=s,a=te("chakra-input__left-element",i);return E.jsx(Se,{ref:t,placement:"left",className:a,...u})});vt.id="InputLeftElement";vt.displayName="InputLeftElement";var Pe=H(function(s,t){const{className:i,...u}=s,a=te("chakra-input__right-element",i);return E.jsx(Se,{ref:t,placement:"right",className:a,...u})});Pe.id="InputRightElement";Pe.displayName="InputRightElement";var je=H(function(s,t){const{htmlSize:i,...u}=s,a=Me("Input",u),f=we(u),h=jt(f),m=te("chakra-input",s.className);return E.jsx(ce.input,{size:i,...h,__css:a.field,ref:t,className:m})});je.displayName="Input";je.id="Input";const Vr=({register:e,name:s,errors:t,label:i,type:u="text",inputProps:a={},disabled:f=!1})=>{const[h,m]=Mt();return E.jsxs(Ut,{isInvalid:!!t[s],className:"mb-4",children:[i&&E.jsx(yt,{htmlFor:s,children:i}),E.jsxs(gt,{children:[E.jsx(je,{disabled:f,type:u==="password"&&h?"text":u,id:s,...e(s,{required:`${i} es obligatorio!`}),...a,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}),u==="password"&&E.jsx(Pe,{children:E.jsx(dt,{onClick:m.toggle,icon:h?"Icono de ojo":"Icono de ojo tachado",variant:"ghost",size:"sm","aria-label":h?"Ocultar contraseña":"Mostrar contraseña"})})]}),t[s]&&E.jsx(ft,{children:t[s].message})]})};var ve=e=>e.type==="checkbox",oe=e=>e instanceof Date,O=e=>e==null;const mt=e=>typeof e=="object";var w=e=>!O(e)&&!Array.isArray(e)&&mt(e)&&!oe(e),Yt=e=>w(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,Jt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Qt=(e,s)=>e.has(Jt(s)),Xt=e=>{const s=e.constructor&&e.constructor.prototype;return w(s)&&s.hasOwnProperty("isPrototypeOf")},Ue=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Ue&&(e instanceof Blob||e instanceof FileList))&&(t||w(e)))if(s=t?[]:{},!t&&!Xt(e))s=e;else for(const i in e)e.hasOwnProperty(i)&&(s[i]=B(e[i]));else return e;return s}var ke=e=>Array.isArray(e)?e.filter(Boolean):[],V=e=>e===void 0,y=(e,s,t)=>{if(!s||!w(e))return t;const i=ke(s.split(/[,[\].]+?/)).reduce((u,a)=>O(u)?u:u[a],e);return V(i)||i===e?V(e[s])?t:e[s]:i},W=e=>typeof e=="boolean",Be=e=>/^\w*$/.test(e),_t=e=>ke(e.replace(/["|']|\]/g,"").split(/\.|\[/)),A=(e,s,t)=>{let i=-1;const u=Be(s)?[s]:_t(s),a=u.length,f=a-1;for(;++i<a;){const h=u[i];let m=t;if(i!==f){const L=e[h];m=w(L)||Array.isArray(L)?L:isNaN(+u[i+1])?{}:[]}if(h==="__proto__")return;e[h]=m,e=e[h]}return e};const et={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var er=(e,s,t,i=!0)=>{const u={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(u,a,{get:()=>{const f=a;return s._proxyFormState[f]!==G.all&&(s._proxyFormState[f]=!i||G.all),e[f]}});return u},P=e=>w(e)&&!Object.keys(e).length,tr=(e,s,t,i)=>{t(e);const{name:u,...a}=e;return P(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(f=>s[f]===G.all)},xe=e=>Array.isArray(e)?e:[e];function rr(e){const s=q.useRef(e);s.current=e,q.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var $=e=>typeof e=="string",sr=(e,s,t,i,u)=>$(e)?(i&&s.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(a=>(i&&s.watch.add(a),y(t,a))):(i&&(s.watchAll=!0),t),ir=(e,s,t,i,u)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:u||!0}}:{},tt=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),rt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ge=(e,s,t,i)=>{for(const u of t||Object.keys(e)){const a=y(e,u);if(a){const{_f:f,...h}=a;if(f){if(f.refs&&f.refs[0]&&s(f.refs[0],u)&&!i)return!0;if(f.ref&&s(f.ref,f.name)&&!i)return!0;if(ge(h,s))break}else if(w(h)&&ge(h,s))break}}};var nr=(e,s,t)=>{const i=xe(y(e,t));return A(i,"root",s[t]),A(e,t,i),e},qe=e=>e.type==="file",Q=e=>typeof e=="function",pe=e=>{if(!Ue)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Fe=e=>$(e),ze=e=>e.type==="radio",Ae=e=>e instanceof RegExp;const st={value:!1,isValid:!1},it={value:!0,isValid:!0};var bt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!V(e[0].attributes.value)?V(e[0].value)||e[0].value===""?it:{value:e[0].value,isValid:!0}:it:st}return st};const nt={isValid:!1,value:null};var xt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,nt):nt;function at(e,s,t="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||W(e)&&!e)return{type:t,message:Fe(e)?e:"",ref:s}}var ue=e=>w(e)&&!Ae(e)?e:{value:e,message:""},lt=async(e,s,t,i,u)=>{const{ref:a,refs:f,required:h,maxLength:m,minLength:L,min:b,max:v,pattern:N,validate:M,name:I,valueAsNumber:ne,mount:Z,disabled:X}=e._f,x=y(s,I);if(!Z||X)return{};const K=f?f[0]:a,Y=_=>{i&&K.reportValidity&&(K.setCustomValidity(W(_)?"":_||""),K.reportValidity())},S={},ae=ze(a),me=ve(a),re=ae||me,le=(ne||qe(a))&&V(a.value)&&V(x)||pe(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,j=ir.bind(null,I,t,S),_e=(_,F,k,T=J.maxLength,z=J.minLength)=>{const U=_?F:k;S[I]={type:_?T:z,message:U,ref:a,...j(_?T:z,U)}};if(u?!Array.isArray(x)||!x.length:h&&(!re&&(le||O(x))||W(x)&&!x||me&&!bt(f).isValid||ae&&!xt(f).isValid)){const{value:_,message:F}=Fe(h)?{value:!!h,message:h}:ue(h);if(_&&(S[I]={type:J.required,message:F,ref:K,...j(J.required,F)},!t))return Y(F),S}if(!le&&(!O(b)||!O(v))){let _,F;const k=ue(v),T=ue(b);if(!O(x)&&!isNaN(x)){const z=a.valueAsNumber||x&&+x;O(k.value)||(_=z>k.value),O(T.value)||(F=z<T.value)}else{const z=a.valueAsDate||new Date(x),U=ye=>new Date(new Date().toDateString()+" "+ye),de=a.type=="time",fe=a.type=="week";$(k.value)&&x&&(_=de?U(x)>U(k.value):fe?x>k.value:z>new Date(k.value)),$(T.value)&&x&&(F=de?U(x)<U(T.value):fe?x<T.value:z<new Date(T.value))}if((_||F)&&(_e(!!_,k.message,T.message,J.max,J.min),!t))return Y(S[I].message),S}if((m||L)&&!le&&($(x)||u&&Array.isArray(x))){const _=ue(m),F=ue(L),k=!O(_.value)&&x.length>+_.value,T=!O(F.value)&&x.length<+F.value;if((k||T)&&(_e(k,_.message,F.message),!t))return Y(S[I].message),S}if(N&&!le&&$(x)){const{value:_,message:F}=ue(N);if(Ae(_)&&!x.match(_)&&(S[I]={type:J.pattern,message:F,ref:a,...j(J.pattern,F)},!t))return Y(F),S}if(M){if(Q(M)){const _=await M(x,s),F=at(_,K);if(F&&(S[I]={...F,...j(J.validate,F.message)},!t))return Y(F.message),S}else if(w(M)){let _={};for(const F in M){if(!P(_)&&!t)break;const k=at(await M[F](x,s),K,F);k&&(_={...k,...j(F,k.message)},Y(k.message),t&&(S[I]=_))}if(!P(_)&&(S[I]={ref:K,..._},!t))return S}}return Y(!0),S};function ar(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=V(e)?i++:e[s[i++]];return e}function lr(e){for(const s in e)if(e.hasOwnProperty(s)&&!V(e[s]))return!1;return!0}function D(e,s){const t=Array.isArray(s)?s:Be(s)?[s]:_t(s),i=t.length===1?e:ar(e,t),u=t.length-1,a=t[u];return i&&delete i[a],u!==0&&(w(i)&&P(i)||Array.isArray(i)&&lr(i))&&D(e,t.slice(0,-1)),e}var Le=()=>{let e=[];return{get observers(){return e},next:u=>{for(const a of e)a.next&&a.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(a=>a!==u)}}),unsubscribe:()=>{e=[]}}},Ve=e=>O(e)||!mt(e);function ee(e,s){if(Ve(e)||Ve(s))return e===s;if(oe(e)&&oe(s))return e.getTime()===s.getTime();const t=Object.keys(e),i=Object.keys(s);if(t.length!==i.length)return!1;for(const u of t){const a=e[u];if(!i.includes(u))return!1;if(u!=="ref"){const f=s[u];if(oe(a)&&oe(f)||w(a)&&w(f)||Array.isArray(a)&&Array.isArray(f)?!ee(a,f):a!==f)return!1}}return!0}var Ft=e=>e.type==="select-multiple",ur=e=>ze(e)||ve(e),Te=e=>pe(e)&&e.isConnected,pt=e=>{for(const s in e)if(Q(e[s]))return!0;return!1};function Ee(e,s={}){const t=Array.isArray(e);if(w(e)||t)for(const i in e)Array.isArray(e[i])||w(e[i])&&!pt(e[i])?(s[i]=Array.isArray(e[i])?[]:{},Ee(e[i],s[i])):O(e[i])||(s[i]=!0);return s}function At(e,s,t){const i=Array.isArray(e);if(w(e)||i)for(const u in e)Array.isArray(e[u])||w(e[u])&&!pt(e[u])?V(s)||Ve(t[u])?t[u]=Array.isArray(e[u])?Ee(e[u],[]):{...Ee(e[u])}:At(e[u],O(s)?{}:s[u],t[u]):t[u]=!ee(e[u],s[u]);return t}var be=(e,s)=>At(e,s,Ee(s)),Vt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>V(e)?e:s?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;function Oe(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return qe(s)?s.files:ze(s)?xt(e.refs).value:Ft(s)?[...s.selectedOptions].map(({value:t})=>t):ve(s)?bt(e.refs).value:Vt(V(s.value)?e.ref.value:s.value,e)}var or=(e,s,t,i)=>{const u={};for(const a of e){const f=y(s,a);f&&A(u,a,f._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:i}},he=e=>V(e)?e:Ae(e)?e.source:w(e)?Ae(e.value)?e.value.source:e.value:e;const ut="AsyncFunction";var cr=e=>(!e||!e.validate)&&!!(Q(e.validate)&&e.validate.constructor.name===ut||w(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===ut)),dr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ot(e,s,t){const i=y(e,t);if(i||Be(t))return{error:i,name:t};const u=t.split(".");for(;u.length;){const a=u.join("."),f=y(s,a),h=y(e,a);if(f&&!Array.isArray(f)&&t!==a)return{name:t};if(h&&h.type)return{name:a,error:h};u.pop()}return{name:t}}var fr=(e,s,t,i,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?i.isOnBlur:u.isOnBlur)?!e:(t?i.isOnChange:u.isOnChange)?e:!0,yr=(e,s)=>!ke(y(e,s)).length&&D(e,s);const hr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function gr(e={}){let s={...hr,...e},t={submitCount:0,isDirty:!1,isLoading:Q(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=w(s.defaultValues)||w(s.values)?B(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:B(u),f={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},m,L=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Le(),array:Le(),state:Le()},N=tt(s.mode),M=tt(s.reValidateMode),I=s.criteriaMode===G.all,ne=r=>n=>{clearTimeout(L),L=setTimeout(r,n)},Z=async r=>{if(b.isValid||r){const n=s.resolver?P((await re()).errors):await j(i,!0);n!==t.isValid&&v.state.next({isValid:n})}},X=(r,n)=>{(b.isValidating||b.validatingFields)&&((r||Array.from(h.mount)).forEach(l=>{l&&(n?A(t.validatingFields,l,n):D(t.validatingFields,l))}),v.state.next({validatingFields:t.validatingFields,isValidating:!P(t.validatingFields)}))},x=(r,n=[],l,d,c=!0,o=!0)=>{if(d&&l){if(f.action=!0,o&&Array.isArray(y(i,r))){const g=l(y(i,r),d.argA,d.argB);c&&A(i,r,g)}if(o&&Array.isArray(y(t.errors,r))){const g=l(y(t.errors,r),d.argA,d.argB);c&&A(t.errors,r,g),yr(t.errors,r)}if(b.touchedFields&&o&&Array.isArray(y(t.touchedFields,r))){const g=l(y(t.touchedFields,r),d.argA,d.argB);c&&A(t.touchedFields,r,g)}b.dirtyFields&&(t.dirtyFields=be(u,a)),v.state.next({name:r,isDirty:_(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(a,r,n)},K=(r,n)=>{A(t.errors,r,n),v.state.next({errors:t.errors})},Y=r=>{t.errors=r,v.state.next({errors:t.errors,isValid:!1})},S=(r,n,l,d)=>{const c=y(i,r);if(c){const o=y(a,r,V(l)?y(u,r):l);V(o)||d&&d.defaultChecked||n?A(a,r,n?o:Oe(c._f)):T(r,o),f.mount&&Z()}},ae=(r,n,l,d,c)=>{let o=!1,g=!1;const p={name:r},C=!!(y(i,r)&&y(i,r)._f&&y(i,r)._f.disabled);if(!l||d){b.isDirty&&(g=t.isDirty,t.isDirty=p.isDirty=_(),o=g!==p.isDirty);const R=C||ee(y(u,r),n);g=!!(!C&&y(t.dirtyFields,r)),R||C?D(t.dirtyFields,r):A(t.dirtyFields,r,!0),p.dirtyFields=t.dirtyFields,o=o||b.dirtyFields&&g!==!R}if(l){const R=y(t.touchedFields,r);R||(A(t.touchedFields,r,l),p.touchedFields=t.touchedFields,o=o||b.touchedFields&&R!==l)}return o&&c&&v.state.next(p),o?p:{}},me=(r,n,l,d)=>{const c=y(t.errors,r),o=b.isValid&&W(n)&&t.isValid!==n;if(e.delayError&&l?(m=ne(()=>K(r,l)),m(e.delayError)):(clearTimeout(L),m=null,l?A(t.errors,r,l):D(t.errors,r)),(l?!ee(c,l):c)||!P(d)||o){const g={...d,...o&&W(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...g},v.state.next(g)}},re=async r=>{X(r,!0);const n=await s.resolver(a,s.context,or(r||h.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return X(r),n},le=async r=>{const{errors:n}=await re(r);if(r)for(const l of r){const d=y(n,l);d?A(t.errors,l,d):D(t.errors,l)}else t.errors=n;return n},j=async(r,n,l={valid:!0})=>{for(const d in r){const c=r[d];if(c){const{_f:o,...g}=c;if(o){const p=h.array.has(o.name),C=c._f&&cr(c._f);C&&b.validatingFields&&X([d],!0);const R=await lt(c,a,I,s.shouldUseNativeValidation&&!n,p);if(C&&b.validatingFields&&X([d]),R[o.name]&&(l.valid=!1,n))break;!n&&(y(R,o.name)?p?nr(t.errors,R,o.name):A(t.errors,o.name,R[o.name]):D(t.errors,o.name))}!P(g)&&await j(g,n,l)}}return l.valid},_e=()=>{for(const r of h.unMount){const n=y(i,r);n&&(n._f.refs?n._f.refs.every(l=>!Te(l)):!Te(n._f.ref))&&De(r)}h.unMount=new Set},_=(r,n)=>(r&&n&&A(a,r,n),!ee(Ge(),u)),F=(r,n,l)=>sr(r,h,{...f.mount?a:V(n)?u:$(r)?{[r]:n}:n},l,n),k=r=>ke(y(f.mount?a:u,r,e.shouldUnregister?y(u,r,[]):[])),T=(r,n,l={})=>{const d=y(i,r);let c=n;if(d){const o=d._f;o&&(!o.disabled&&A(a,r,Vt(n,o)),c=pe(o.ref)&&O(n)?"":n,Ft(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?ve(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(p=>p===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):qe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||v.values.next({name:r,values:{...a}})))}(l.shouldDirty||l.shouldTouch)&&ae(r,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ye(r)},z=(r,n,l)=>{for(const d in n){const c=n[d],o=`${r}.${d}`,g=y(i,o);(h.array.has(r)||!Ve(c)||g&&!g._f)&&!oe(c)?z(o,c,l):T(o,c,l)}},U=(r,n,l={})=>{const d=y(i,r),c=h.array.has(r),o=B(n);A(a,r,o),c?(v.array.next({name:r,values:{...a}}),(b.isDirty||b.dirtyFields)&&l.shouldDirty&&v.state.next({name:r,dirtyFields:be(u,a),isDirty:_(r,o)})):d&&!d._f&&!O(o)?z(r,o,l):T(r,o,l),rt(r,h)&&v.state.next({...t}),v.values.next({name:f.mount?r:void 0,values:{...a}})},de=async r=>{f.mount=!0;const n=r.target;let l=n.name,d=!0;const c=y(i,l),o=()=>n.type?Oe(c._f):Yt(r),g=p=>{d=Number.isNaN(p)||ee(p,y(a,l,p))};if(c){let p,C;const R=o(),se=r.type===et.BLUR||r.type===et.FOCUS_OUT,kt=!dr(c._f)&&!s.resolver&&!y(t.errors,l)&&!c._f.deps||fr(se,y(t.touchedFields,l),t.isSubmitted,M,N),Ce=rt(l,h,se);A(a,l,R),se?(c._f.onBlur&&c._f.onBlur(r),m&&m(0)):c._f.onChange&&c._f.onChange(r);const Re=ae(l,R,se,!1),Dt=!P(Re)||Ce;if(!se&&v.values.next({name:l,type:r.type,values:{...a}}),kt)return b.isValid&&(e.mode==="onBlur"?se&&Z():Z()),Dt&&v.state.next({name:l,...Ce?{}:Re});if(!se&&Ce&&v.state.next({...t}),s.resolver){const{errors:Qe}=await re([l]);if(g(R),d){const Nt=ot(t.errors,i,l),Xe=ot(Qe,i,Nt.name||l);p=Xe.error,l=Xe.name,C=P(Qe)}}else X([l],!0),p=(await lt(c,a,I,s.shouldUseNativeValidation))[l],X([l]),g(R),d&&(p?C=!1:b.isValid&&(C=await j(i,!0)));d&&(c._f.deps&&ye(c._f.deps),me(l,C,p,Re))}},fe=(r,n)=>{if(y(t.errors,n)&&r.focus)return r.focus(),1},ye=async(r,n={})=>{let l,d;const c=xe(r);if(s.resolver){const o=await le(V(r)?r:c);l=P(o),d=r?!c.some(g=>y(o,g)):l}else r?(d=(await Promise.all(c.map(async o=>{const g=y(i,o);return await j(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!d&&!t.isValid)&&Z()):d=l=await j(i);return v.state.next({...!$(r)||b.isValid&&l!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:l}:{},errors:t.errors}),n.shouldFocus&&!d&&ge(i,fe,r?c:h.mount),d},Ge=r=>{const n={...f.mount?a:u};return V(r)?n:$(r)?y(n,r):r.map(l=>y(n,l))},We=(r,n)=>({invalid:!!y((n||t).errors,r),isDirty:!!y((n||t).dirtyFields,r),error:y((n||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((n||t).touchedFields,r)}),Et=r=>{r&&xe(r).forEach(n=>D(t.errors,n)),v.state.next({errors:r?t.errors:{}})},$e=(r,n,l)=>{const d=(y(i,r,{_f:{}})._f||{}).ref,c=y(t.errors,r)||{},{ref:o,message:g,type:p,...C}=c;A(t.errors,r,{...C,...n,ref:d}),v.state.next({name:r,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&d&&d.focus&&d.focus()},wt=(r,n)=>Q(r)?v.values.subscribe({next:l=>r(F(void 0,n),l)}):F(r,n,!0),De=(r,n={})=>{for(const l of r?xe(r):h.mount)h.mount.delete(l),h.array.delete(l),n.keepValue||(D(i,l),D(a,l)),!n.keepError&&D(t.errors,l),!n.keepDirty&&D(t.dirtyFields,l),!n.keepTouched&&D(t.touchedFields,l),!n.keepIsValidating&&D(t.validatingFields,l),!s.shouldUnregister&&!n.keepDefaultValue&&D(u,l);v.values.next({values:{...a}}),v.state.next({...t,...n.keepDirty?{isDirty:_()}:{}}),!n.keepIsValid&&Z()},He=({disabled:r,name:n,field:l,fields:d,value:c})=>{if(W(r)&&f.mount||r){const o=r?void 0:V(c)?Oe(l?l._f:y(d,n)._f):c;A(a,n,o),ae(n,o,!1,!1,!0)}},Ne=(r,n={})=>{let l=y(i,r);const d=W(n.disabled)||W(e.disabled);return A(i,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...n}}),h.mount.add(r),l?He({field:l,disabled:W(n.disabled)?n.disabled:e.disabled,name:r,value:n.value}):S(r,!0,n.value),{...d?{disabled:n.disabled||e.disabled}:{},...s.progressive?{required:!!n.required,min:he(n.min),max:he(n.max),minLength:he(n.minLength),maxLength:he(n.maxLength),pattern:he(n.pattern)}:{},name:r,onChange:de,onBlur:de,ref:c=>{if(c){Ne(r,n),l=y(i,r);const o=V(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=ur(o),p=l._f.refs||[];if(g?p.find(C=>C===o):o===l._f.ref)return;A(i,r,{_f:{...l._f,...g?{refs:[...p.filter(Te),o,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:o.type,name:r}}:{ref:o}}}),S(r,!1,void 0,o)}else l=y(i,r,{}),l._f&&(l._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(Qt(h.array,r)&&f.action)&&h.unMount.add(r)}}},Ze=()=>s.shouldFocusError&&ge(i,fe,h.mount),It=r=>{W(r)&&(v.state.next({disabled:r}),ge(i,(n,l)=>{const d=y(i,l);d&&(n.disabled=d._f.disabled||r,Array.isArray(d._f.refs)&&d._f.refs.forEach(c=>{c.disabled=d._f.disabled||r}))},0,!1))},Ke=(r,n)=>async l=>{let d;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=B(a);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await re();t.errors=o,c=g}else await j(i);if(D(t.errors,"root"),P(t.errors)){v.state.next({errors:{}});try{await r(c,l)}catch(o){d=o}}else n&&await n({...t.errors},l),Ze(),setTimeout(Ze);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(t.errors)&&!d,submitCount:t.submitCount+1,errors:t.errors}),d)throw d},St=(r,n={})=>{y(i,r)&&(V(n.defaultValue)?U(r,B(y(u,r))):(U(r,n.defaultValue),A(u,r,B(n.defaultValue))),n.keepTouched||D(t.touchedFields,r),n.keepDirty||(D(t.dirtyFields,r),t.isDirty=n.defaultValue?_(r,B(y(u,r))):_()),n.keepError||(D(t.errors,r),b.isValid&&Z()),v.state.next({...t}))},Ye=(r,n={})=>{const l=r?B(r):u,d=B(l),c=P(r),o=c?u:d;if(n.keepDefaultValues||(u=l),!n.keepValues){if(n.keepDirtyValues)for(const g of h.mount)y(t.dirtyFields,g)?A(o,g,y(a,g)):U(g,y(o,g));else{if(Ue&&V(r))for(const g of h.mount){const p=y(i,g);if(p&&p._f){const C=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(pe(C)){const R=C.closest("form");if(R){R.reset();break}}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?B(u):{}:B(o),v.array.next({values:{...o}}),v.values.next({values:{...o}})}h={mount:n.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!b.isValid||!!n.keepIsValid||!!n.keepDirtyValues,f.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:c?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!ee(r,u)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:n.keepDirtyValues?n.keepDefaultValues&&a?be(u,a):t.dirtyFields:n.keepDefaultValues&&r?be(u,r):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(r,n)=>Ye(Q(r)?r(a):r,n);return{control:{register:Ne,unregister:De,getFieldState:We,handleSubmit:Ke,setError:$e,_executeSchema:re,_getWatch:F,_getDirty:_,_updateValid:Z,_removeUnmounted:_e,_updateFieldArray:x,_updateDisabledField:He,_getFieldArray:k,_reset:Ye,_resetDefaultValues:()=>Q(s.defaultValues)&&s.defaultValues().then(r=>{Je(r,s.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:It,_subjects:v,_proxyFormState:b,_setErrors:Y,get _fields(){return i},get _formValues(){return a},get _state(){return f},set _state(r){f=r},get _defaultValues(){return u},get _names(){return h},set _names(r){h=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:ye,register:Ne,handleSubmit:Ke,watch:wt,setValue:U,getValues:Ge,reset:Je,resetField:St,clearErrors:Et,unregister:De,setError:$e,setFocus:(r,n={})=>{const l=y(i,r),d=l&&l._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),n.shouldSelect&&c.select())}},getFieldState:We}}function Er(e={}){const s=q.useRef(),t=q.useRef(),[i,u]=q.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...gr(e),formState:i});const a=s.current.control;return a._options=e,rr({subject:a._subjects.state,next:f=>{tr(f,a._proxyFormState,a._updateFormState)&&u({...a._formState})}}),q.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),q.useEffect(()=>{if(a._proxyFormState.isDirty){const f=a._getDirty();f!==i.isDirty&&a._subjects.state.next({isDirty:f})}},[a,i.isDirty]),q.useEffect(()=>{e.values&&!ee(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,u(f=>({...f}))):a._resetDefaultValues()},[e.values,a]),q.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),q.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),q.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),s.current.formState=er(i,a),s.current}export{yt as F,Vr as I,ft as a,Er as b,Ar as u};
